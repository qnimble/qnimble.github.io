<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<meta name="robots" content="noindex, nofollow">
<link rel="alternate" type="application/rss+xml" href="/News/rss.xml" title="qNimble RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/News/atom.xml" title="qNimble Atom Feed">
<link rel="alternate" type="application/json" href="/News/feed.json" title="qNimble JSON Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://js.qnimble.com/js/index.js" async defer="defer" data-domain="dev.qnimble.com" data-api="https://js.qnimble.com/qvbt/api/event"></script><title data-rh="true">Serial Commands for Dynamic Control | qNimble Quarto</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://qnimble.com/img/quarto-frontpanel.jpg"><meta data-rh="true" name="twitter:image" content="https://qnimble.com/img/quarto-frontpanel.jpg"><meta data-rh="true" property="og:url" content="https://qnimble.com/Quarto/Examples/Commands"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-quarto-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-quarto-current"><meta data-rh="true" property="og:title" content="Serial Commands for Dynamic Control | qNimble Quarto"><meta data-rh="true" name="description" content="Example for creating commands to interact with the Quarto"><meta data-rh="true" property="og:description" content="Example for creating commands to interact with the Quarto"><meta data-rh="true" name="keywords" content="Commands,Dynamic,Serial,Examples"><link data-rh="true" rel="icon" href="/img/profile-256.png"><link data-rh="true" rel="canonical" href="https://qnimble.com/Quarto/Examples/Commands"><link data-rh="true" rel="alternate" href="https://qnimble.com/Quarto/Examples/Commands" hreflang="en"><link data-rh="true" rel="alternate" href="https://qnimble.com/Quarto/Examples/Commands" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c462e960.css">
<link rel="preload" href="/assets/js/runtime~main.253629b1.js" as="script">
<link rel="preload" href="/assets/js/main.ab928fbc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="qNimble" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="qNimble" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">qNimble</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Quarto">Quarto</a><a class="navbar__item navbar__link" href="/Contact">Contact</a><a class="navbar__item navbar__link" href="/News">News</a><a class="navbar__item navbar__link" href="/Orders">Orders</a><a href="https://forum.qnimble.com" target="_target" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto">Quarto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Specifications">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Quick_Start">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Troubleshooting">Troubleshooting Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/Quarto/Examples">Program Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Filter">Analog Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Quarto/Examples/Commands">Serial Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Servo">PID Servo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Pulsed_Output">Pulsed Output Waveform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/SDCard">SD Card</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/Quarto/Functions">Software Functions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/ADC">ADC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/DAC">DAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/Digital">Digital I/O</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/LEDs">LEDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/Triggers">Triggers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">App Notes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/AppNotes/AnalogResponseTime">Analog Response Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/AppNotes/InterruptLatency">Measuring Interrupt Latency</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Compliance">Compliance</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Serial Commands for Dynamic Control</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The following requires version 1.5.0 or higher, which is currently in beta. Please see <a href="/News/Beta_Software">Beta Release Notes</a> for information on installing the latest beta software.</p></div></div><p>In other examples, we show how to program the <em>Quarto</em> to do a task, such as act like a <a href="/Quarto/Examples/Servo">PID Servo</a>. But often you want to interact with the <em>Quarto</em> to change settings, read values, etc. To make that process easier we have a library, qCommand, for registering serial commands and mapping them to functions. This let you enter commands of the serial port to change the behavior of the <em>Quarto</em>. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h2><p>First, we need to include the qCommand library and instantiate it:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash" style="color:#f92672">#</span><span class="token macro property directive keyword" style="color:#66d9ef">include</span><span class="token macro property" style="color:#f92672"> </span><span class="token macro property string" style="color:#a6e22e">&quot;qCommand.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">qCommand qC</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then we want this <code>qC</code> object we created to handle incoming Serial data and we put that processing in the <code>loop()</code> function so it continually processes commands:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>With that, we have the basics working. If you load this program on the <em>Quarto</em> we can type commands on the Serial port and get responses:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Unknown command: Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; Hi</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Unknown command: Hi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>At this point, we have no commands registered, so everything we type results in an unknown command. </p><p>The <em>Quarto</em> actually has two Serial ports. The main one (Serial) is the default and is used by the Arduino IDE for reprogramming the device. But the second one (Serial2) can be used as well. If you like using a terminal program outside of the Arduino IDE, it can be nice to use the second port and leave the main one available to the Arduino IDE for reprogramming.  To use the command system on both Serial ports, we just add one line to the loop function:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now, you can type commands on either Serial port and get a response.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="adding-commands">Adding Commands<a class="hash-link" href="#adding-commands" title="Direct link to heading">​</a></h2><p>Adding commands looks a little strange at first, but its a very powerful structure. We will map a string (or command) to a function. That function must take exactly two arguments: the qC object and a Stream. A Stream is just a more generalized version of the <code>Serial</code> object. By using this Stream instead of directly using Serial, the command can respond on the Serial port that issued the command. The Stream object has all the same functions like <code>print</code> and <code>println</code> and <code>write</code> that the Serial object has.</p><p>Here&#x27;s an example function:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello there.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now to add that command, we put the following into our <code>setup()</code> function:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The <code>addCommand</code> line assigns the string &quot;Hello&quot; to the <code>hello</code> function we wrote.  Now, we type into (either) Serial port, we&#x27;ll get:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Hello there.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; HELLO</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Hello there.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; hello2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Unknown command: hello2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You&#x27;ll notice that commands are case-insensitive as &#x27;HELLO&#x27; works the same as &#x27;Hello&#x27;. This is the default, but you can make the commands case sensitive if you run</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">setCaseSensitive</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">true</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>before adding any commands. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="commands-with-arguments">Commands with Arguments<a class="hash-link" href="#commands-with-arguments" title="Direct link to heading">​</a></h2><p>To pass arguments to your functions, add them after the command string with a space. The syntax is </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">command arg1 arg2 arg3 etc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To access each string argument, we use the <code>next()</code> and <code>current()</code> functions. If there isn&#x27;t another argument, <code>next()</code> will return <code>NULL</code>. The <code>current()</code> function is used to get the current argument. Here&#x27;s an example:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello %s, it is nice to meet you.\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And if we want our hello function to respond to both &#x27;Hello&#x27; and &#x27;Hi&#x27;, we simply run <code>addCommand</code> a second time:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hi&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Let&#x27;s see that in action:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; Hi</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Hello.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; Hello Angela</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; Hello Angela, it is nice to meet you.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="setting-variables">Setting Variables<a class="hash-link" href="#setting-variables" title="Direct link to heading">​</a></h2><p>Often you will want a command to read and write to a variable. For example, maybe you want the &#x27;gain&#x27; command to let you adjust the gain in your servo loop. This structure for reading and writing a variable is very common, so qCommon provides a shortcut for it. Instead of using the <code>addCommand</code> function to map that function to a command, we use the <code>assignVariable</code> function to assign a common and read and writing a variable:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">assignVariable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Gain&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">loopGain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This helper function works for most number types including <code>float</code>, <code>double</code> , <code>int</code> , <code>uint</code>, <code>short</code>,  <code>unsigned short</code>, <code>uint8_t</code> and <code>int8_t</code> . For all integer types, values outside of their range will be coerced to the nearest possible value. Here&#x27;s a short program to show how it works:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash" style="color:#f92672">#</span><span class="token macro property directive keyword" style="color:#66d9ef">include</span><span class="token macro property" style="color:#f92672"> </span><span class="token macro property string" style="color:#a6e22e">&quot;qCommand.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">qCommand qC</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">uint longInt</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token class-name" style="color:#e6db74">int8_t</span><span class="token plain"> int8</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> doubleVar</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">assignVariable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;uint&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">longInt</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">assignVariable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;int8&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">int8</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">assignVariable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;double&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">doubleVar</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; uint -4</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; uint is 0</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; int8 500</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; int8 is 127</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; int8 -50</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; int8 is -50</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; double 1.2345</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; double is 1.234500</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; double 3.14e-5</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; double is 3.140000e-05</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="custom-functions">Custom Functions<a class="hash-link" href="#custom-functions" title="Direct link to heading">​</a></h2><p>While the <code>assignVariable</code> function is very handy, sometimes you&#x27;ll want to write a custom function to get more control. Maybe we want to control the gain to a PID Servo, but we want to restrict the gain to be positive and less then 10. In this situation, we have to write a custom function. The structure will be same as the <code>hello</code> function discussed above, but it will need to take a string argument and convert it to a double. To do this, we will use the <code>atof</code> function. Similarly, to convert a string to an integer, we would use the <code>atoi</code> function. Here&#x27;s an example:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.021</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">// global for the gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">gain</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">!=</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">loopGain </span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">loopGain </span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">10</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">10</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The gain is %f\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">loopGain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If we assign this function to the string &#x27;Gain&#x27; with </p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Gain&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> gain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>then we interact with the variable gain like this:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; gain</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The gain is 1.021000</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; gain -3.25</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The gain is 0.000000</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; gain 11.25</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The gain is 10.000000</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; gain 1.234567</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The gain is 1.234567</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="multiple-arguments">Multiple Arguments<a class="hash-link" href="#multiple-arguments" title="Direct link to heading">​</a></h2><p>To use multiple arguments for your functions, simply repeat calling <code>qC.next()</code> Also, if you want to use an integer instead of a double, use the <code>atoi</code> command. Here&#x27;s an example that multiplies a floating point number by an integer:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">multiply</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> a</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">int</span><span class="token plain"> b</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, none given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        a </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, only one given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        b </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atoi</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;%e times %d is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If we assign this function the command &#x27;Mult&#x27;, then we get the following behavior:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx diff"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; mult</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The multiply command needs two arguments, none given.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; mult 1.23</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The multiply command needs two arguments, only one given.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; mult 1.23 -3</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; 1.230000e+00 times -3 is -3.690000e-00</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; mult 1e1</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; The multiply command needs two arguments, only one given.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic"></span><span class="token inserted-arrow inserted prefix inserted" style="color:rgb(173, 219, 103);font-style:italic">&gt;</span><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic">&gt; mult 1.23e0 2.25</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token inserted-arrow inserted line" style="color:rgb(173, 219, 103);font-style:italic"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d98672;font-style:italic">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d98672;font-style:italic">&lt; 1.230000e+00 times 2 is 2.4600005e+00</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="list-all-commands">List All Commands<a class="hash-link" href="#list-all-commands" title="Direct link to heading">​</a></h2><p>All the available commands can be listed with the qCommand&#x27;s  <code>printAvailableCommands</code> function (which takes the Stream as an argument). So we might write a help function as</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Available commands are:&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printAvailableCommands</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="custom-unknown-command">Custom Unknown Command<a class="hash-link" href="#custom-unknown-command" title="Direct link to heading">​</a></h2><p>One last customization option for the qCommand library is to customize the response to an unknown command. By default, the response is just &quot;Unknown command: &quot; followed by the input command. But we can write our own function to response to unknown commands:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">UnknownCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">char</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> command</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;I&#x27;m sorry, I didn&#x27;t understand that. (You said &#x27;%s&#x27;?)\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">command</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;You can type &#x27;help&#x27; for a list of commands&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then in the setup, we configure qCommand to use our new function:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">setDefaultHandler</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">UnknownCommand</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="full-code">Full Code<a class="hash-link" href="#full-code" title="Direct link to heading">​</a></h2><p>Here&#x27;s the full code (also available in the Examples / qCommand in the Arduino IDE.)</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash" style="color:#f92672">#</span><span class="token macro property directive keyword" style="color:#66d9ef">include</span><span class="token macro property" style="color:#f92672"> </span><span class="token macro property string" style="color:#a6e22e">&quot;qCommand.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">qCommand qC</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.021</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">int</span><span class="token plain"> anInteger</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">setDefaultHandler</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">UnknownCommand</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#8292a2;font-style:italic">//qC.setCaseSensitive(true); //uncomment to make commands case-sensitive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hi&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Gain&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">gain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">assignVariable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Int&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">anInteger</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Mult&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">multiply</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Help&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> help</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello %s, it is nice to meet you.\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">gain</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">!=</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">loopGain </span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">loopGain </span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">10</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">10</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The gain is %f\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">loopGain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">multiply</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> a</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">int</span><span class="token plain"> b</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, none given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    a </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, only one given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    b </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atoi</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;%e times %d is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Available commands are:&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printAvailableCommands</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">UnknownCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">char</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> command</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;I&#x27;m sorry, I didn&#x27;t understand that. (You said &#x27;%s&#x27;?)\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">command</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;You can type &#x27;help&#x27; for a list of commands&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Quarto/Examples/Filter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Analog Filter</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Quarto/Examples/Servo"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PID Servo</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#adding-commands" class="table-of-contents__link toc-highlight">Adding Commands</a></li><li><a href="#commands-with-arguments" class="table-of-contents__link toc-highlight">Commands with Arguments</a></li><li><a href="#setting-variables" class="table-of-contents__link toc-highlight">Setting Variables</a></li><li><a href="#custom-functions" class="table-of-contents__link toc-highlight">Custom Functions</a></li><li><a href="#multiple-arguments" class="table-of-contents__link toc-highlight">Multiple Arguments</a></li><li><a href="#list-all-commands" class="table-of-contents__link toc-highlight">List All Commands</a></li><li><a href="#custom-unknown-command" class="table-of-contents__link toc-highlight">Custom Unknown Command</a></li><li><a href="#full-code" class="table-of-contents__link toc-highlight">Full Code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Privacy">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">368 Ontario St, Toronto ON, M5A 2V7 | Ontario, Canada | Phone: (720)-741-1556 <br> Copyright © 2022 <div class="baloo">qNimble</div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.253629b1.js"></script>
<script src="/assets/js/main.ab928fbc.js"></script>
</body>
</html>