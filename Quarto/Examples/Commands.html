<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<meta name="robots" content="noindex, nofollow">
<link rel="alternate" type="application/rss+xml" href="/News/rss.xml" title="qNimble RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/News/atom.xml" title="qNimble Atom Feed">
<link rel="alternate" type="application/json" href="/News/feed.json" title="qNimble JSON Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://js.qnimble.com/js/index.js" async defer="defer" data-domain="dev.qnimble.com" data-api="https://js.qnimble.com/qvbt/api/event"></script><title data-rh="true">Serial Commands | qNimble Quarto</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://qnimble.com/img/quarto-frontpanel.jpg"><meta data-rh="true" name="twitter:image" content="https://qnimble.com/img/quarto-frontpanel.jpg"><meta data-rh="true" property="og:url" content="https://qnimble.com/Quarto/Examples/Commands"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-quarto-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-quarto-current"><meta data-rh="true" property="og:title" content="Serial Commands | qNimble Quarto"><meta data-rh="true" name="description" content="Example for creating commands to interact with the Quarto"><meta data-rh="true" property="og:description" content="Example for creating commands to interact with the Quarto"><meta data-rh="true" name="keywords" content="Commads,Serial,Examples"><link data-rh="true" rel="icon" href="/img/profile-256.png"><link data-rh="true" rel="canonical" href="https://qnimble.com/Quarto/Examples/Commands"><link data-rh="true" rel="alternate" href="https://qnimble.com/Quarto/Examples/Commands" hreflang="en"><link data-rh="true" rel="alternate" href="https://qnimble.com/Quarto/Examples/Commands" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c462e960.css">
<link rel="preload" href="/assets/js/runtime~main.63b206e7.js" as="script">
<link rel="preload" href="/assets/js/main.bdc2ff96.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="qNimble" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="qNimble" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">qNimble</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Quarto">Quarto</a><a class="navbar__item navbar__link" href="/Contact">Contact</a><a class="navbar__item navbar__link" href="/News">News</a><a class="navbar__item navbar__link" href="/Orders">Orders</a><a href="https://forum.qnimble.com" target="_target" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto">Quarto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Specifications">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Quick_Start">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Troubleshooting">Troubleshooting Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/Quarto/Examples">Program Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Filter">Analog Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Servo">PID Servo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/Pulsed_Output">Pulsed Output Waveform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Examples/SDCard">SD Card</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Quarto/Examples/Commands">Serial Commands</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/Quarto/Functions">Software Functions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/ADC">ADC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/DAC">DAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/Digital">Digital I/O</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/LEDs">LEDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/Functions/Triggers">Triggers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">App Notes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/AppNotes/AnalogResponseTime">Analog Response Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Quarto/AppNotes/InterruptLatency">Measuring Interrupt Latency</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Quarto/Compliance">Compliance</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Serial Commands</h1></header><p>In previous examples, we show how to program the <em>Quarto</em> to do a task. But often you want to interact with the <em>Quarto</em> to change settings, read values, etc. So make that process easier we have a library, qCommand, for registering serial commands and mapping them to functions. This let you enter commands of the serial port to change the behavior of the <em>Quarto</em>. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h2><p>First, we need to include the qCommand library and instantiate it:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash" style="color:#f92672">#</span><span class="token macro property directive keyword" style="color:#66d9ef">include</span><span class="token macro property" style="color:#f92672"> </span><span class="token macro property string" style="color:#a6e22e">&quot;qCommand.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">qCommand qC</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then we want this <code>qC</code> object we created to handle incoming Serial data and we put that processing in the <code>loop()</code> function so it always processes commands:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>With that, we have the basics working. If you load this program on the <em>Quarto</em> we can type commands on the Serial port and get responses:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; Unknown command: Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; Hi</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; Unknown command: Hi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>But at this point, we have no commands registered, so everything we type results in an unknown command. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="adding-commands">Adding Commands<a class="hash-link" href="#adding-commands" title="Direct link to heading">​</a></h2><p>Adding commands looks a little strange at first, but its a very powerful structure. We will map a string (or command) to a function. That function takes two arguments: the qC object and a Stream. A Stream is just a more generalized version of the <code>Serial</code> object. It is an object with <code>print</code> and <code>println</code> and <code>printf</code> functions.  It isn&#x27;t necessary to use, but enables using the same command system over multiple Serial ports. </p><p>Here&#x27;s an example function:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello there.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now to add that command, we put the following into our <code>setup()</code> function and <code>loop</code> functions:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The <code>addCommand</code> line assigns the string &quot;Hello&quot; to the <code>hello</code> function we wrote. The <code>readSerial(Serial)</code> is what processes the incoming Serial data. Since the function is in the loop, it gets run over and over and looks for commands on the Serial line. If you want to listen on multiple Serial ports, you just call <code>readSerial</code>  inside the loop function with a different Serial port as the argument.</p><p>Now, we type into the Serial port, we&#x27;ll get:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; Hello</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; Hello there.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; HELLO</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; Hello there.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; hello2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; Unknown command: hello2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You&#x27;ll notice that commands are case-insensitive as &#x27;HELLO&#x27; works the same as &#x27;Hello&#x27;. This is the default, but you can make the commands case sensitive if you run</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">setCaseSensitive</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">true</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>before adding any commands. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="commands-with-arguments">Commands with Arguments<a class="hash-link" href="#commands-with-arguments" title="Direct link to heading">​</a></h2><p>A space is used to separate arguments to the commands. To see the next argument, we use the <code>next()</code> function. If there isn&#x27;t another argument, <code>next()</code> will return <code>NULL</code>. Additionally, the <code>currenct()</code> function can be used to get the current argument. Here&#x27;s an example:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello %s, it is nice to meet you.\n &quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And if we want our hello function to respond to both &#x27;Hello&#x27; and &#x27;Hi&#x27;, we simply run <code>addCommand</code> a second time:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hi&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="getting-numbers">Getting Numbers<a class="hash-link" href="#getting-numbers" title="Direct link to heading">​</a></h2><p>Often your commands will want to take integers and floats as inputs, not just strings. For example, maybe you want the &#x27;gain&#x27; command to let you adjust the gain in your servo loop. In the <a href="/Quarto/Examples/Servo">PID Servo Example</a>, but PID parameters including gain are stored as doubles. To convert the string argument to a double, we use the <code>atof</code> command:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.021</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">// global for the gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">gain</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">!=</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The gain is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">loopGain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">//print gain in scientific notation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If we assign this function to the string &#x27;gain&#x27; with </p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Gain&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> gain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>then we interact with the variable gain like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; gain</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; The gain is 1.010000e+00</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; gain .1234</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;&lt; The gain is 1.234000e-01</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; gain</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;&gt; The gain is 1.234000e-01</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="multiple-arguments">Multiple Arguments<a class="hash-link" href="#multiple-arguments" title="Direct link to heading">​</a></h2><p>To use multiple arguments for your functions, simply repeat calling <code>qC.next()</code> Here&#x27;s an example that multiplies two numbers together:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">multiply</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, none given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        a </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, only one given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        b </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;%e times %e is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If we assign this function the command &#x27;mult&#x27;, then we get the following behavior:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> mult</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&lt;&lt;</span><span class="token plain"> The multiply command needs two arguments</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> none given</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> mult </span><span class="token number" style="color:#ae81ff">1.23</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&lt;&lt;</span><span class="token plain"> The multiply command needs two arguments</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> only one given</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> mult </span><span class="token number" style="color:#ae81ff">1.23</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">-</span><span class="token number" style="color:#ae81ff">1e-2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.230000e+00</span><span class="token plain"> times </span><span class="token operator" style="color:#66d9ef">-</span><span class="token number" style="color:#ae81ff">1.000000e-02</span><span class="token plain"> is </span><span class="token operator" style="color:#66d9ef">-</span><span class="token number" style="color:#ae81ff">1.230000e-02</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> mult </span><span class="token number" style="color:#ae81ff">1</span><span class="token plain">e</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&lt;&lt;</span><span class="token plain"> The multiply command needs two arguments</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> only one given</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> mult </span><span class="token number" style="color:#ae81ff">1.23e0</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">3.1415</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.230000e+00</span><span class="token plain"> times </span><span class="token number" style="color:#ae81ff">3.141500e+00</span><span class="token plain"> is </span><span class="token number" style="color:#ae81ff">3.864045e+00</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="full-code">Full Code<a class="hash-link" href="#full-code" title="Direct link to heading">​</a></h2><p>Here&#x27;s the full code:</p><div class="codeBlockContainer_I0IT language-c theme-code-block"><div class="codeBlockContent_wNvx c"><pre tabindex="0" class="prism-code language-c codeBlock_jd64 thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash" style="color:#f92672">#</span><span class="token macro property directive keyword" style="color:#66d9ef">include</span><span class="token macro property" style="color:#f92672"> </span><span class="token macro property string" style="color:#a6e22e">&quot;qCommand.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">qCommand qC</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1.021</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">// global for the loop gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">setup</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Gain&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> gain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hi&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">addCommand</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Mult&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> multiply</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">loop</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">readSerial</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">hello</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;Hello %s, it is nice to meet you.\n &quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">gain</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">!=</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        loopGain </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The gain is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">loopGain</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">//print gain in scientific notation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">void</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">multiply</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qCommand</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> Stream</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain"> S</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">double</span><span class="token plain"> a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, none given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        a </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"> qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">NULL</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;The multiply command needs two arguments, only one given.&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        b </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">atof</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">qC</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">current</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    S</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">printf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;%e times %e is %e\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">a</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Quarto/Examples/SDCard"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SD Card</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Quarto/Functions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">List of Software Functions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#adding-commands" class="table-of-contents__link toc-highlight">Adding Commands</a></li><li><a href="#commands-with-arguments" class="table-of-contents__link toc-highlight">Commands with Arguments</a></li><li><a href="#getting-numbers" class="table-of-contents__link toc-highlight">Getting Numbers</a></li><li><a href="#multiple-arguments" class="table-of-contents__link toc-highlight">Multiple Arguments</a></li><li><a href="#full-code" class="table-of-contents__link toc-highlight">Full Code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Privacy">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">368 Ontario St, Toronto ON, M5A 2V7 | Ontario, Canada | Phone: (720)-741-1556 <br> Copyright © 2022 <div class="baloo">qNimble</div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.63b206e7.js"></script>
<script src="/assets/js/main.bdc2ff96.js"></script>
</body>
</html>