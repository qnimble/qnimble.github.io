(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{79:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return g})),r.d(t,"metadata",(function(){return l})),r.d(t,"toc",(function(){return c})),r.d(t,"default",(function(){return b}));var i=r(3),n=r(7),a=(r(0),r(110)),g={title:"Triggers"},l={unversionedId:"Software/Triggers",id:"Software/Triggers",isDocsHomePage:!1,title:"Triggers",description:'The following functions are available for the two Trigger lines. The "X" in the function name must be replaced by the trigger number (1 or 2):',source:"@site/quarto/Software/Triggers.md",slug:"/Software/Triggers",permalink:"/Quarto/Software/Triggers",version:"current",sidebar:"quarto_main_sidebar",previous:{title:"DAC",permalink:"/Quarto/Software/DAC"}},c=[{value:"setTriggerXDirection",id:"settriggerxdirection",children:[{value:"Example",id:"example",children:[]}]},{value:"setTriggerXLow",id:"settriggerxlow",children:[{value:"Example",id:"example-1",children:[]}]},{value:"setTriggerXHigh",id:"settriggerxhigh",children:[{value:"Example",id:"example-2",children:[]}]},{value:"getTriggerX",id:"gettriggerx",children:[{value:"Example",id:"example-3",children:[]}]},{value:"enableInterruptTriggerX",id:"enableinterrupttriggerx",children:[{value:"Example",id:"example-4",children:[]}]},{value:"clearISRTriggerX",id:"clearisrtriggerx",children:[]},{value:"disableInterruptTriggerX",id:"disableinterrupttriggerx",children:[{value:"Example",id:"example-5",children:[]}]}],o={toc:c};function b(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},o,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,'The following functions are available for the two Trigger lines. The "X" in the function name must be replaced by the trigger number (1 or 2):'),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#settriggerxdirection"},"setTriggerXDirection")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#settriggerxlow"},"setTriggerXLow")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#settriggerxhigh"},"setTriggerXHigh")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#gettriggerx"},"getTriggerX")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#enableinterrupttriggerx"},"enableInterruptTriggerX")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#clearisrtriggerx"},"clearISRTriggerX")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"#disableinterrupttriggerx"},"disableInterruptTriggerX"))),Object(a.b)("h2",{id:"settriggerxdirection"},"setTriggerXDirection"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void setTrigger2Direction(io_direction_t direction);\n")),Object(a.b)("p",null,"This function sets the trigger to be either an input or an output. By default, all triggers are inputs."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},Object(a.b)("inlineCode",{parentName:"strong"},"direction"))," Can either be ",Object(a.b)("inlineCode",{parentName:"li"},"PIN_DIRECTION_OUTPUT")," or ",Object(a.b)("inlineCode",{parentName:"li"},"PIN_DIRECTION_INPUT"))),Object(a.b)("h3",{id:"example"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"setTrigger1Direction(PIN_DIRECTION_INPUT);\nsetTrigger2Direction(PIN_DIRECTION_OUTPUT);\n")),Object(a.b)("h2",{id:"settriggerxlow"},"setTriggerXLow"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void setTriggerXLow(void);\n")),Object(a.b)("p",null,"This function sets the trigger output to low or 0V. If the trigger is not configured as an output, this function has no effect."),Object(a.b)("h3",{id:"example-1"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"setTrigger1Low();\nsetTrigger2Low();\n")),Object(a.b)("h2",{id:"settriggerxhigh"},"setTriggerXHigh"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void setTriggerXHigh(void);\n")),Object(a.b)("p",null,"This function sets the trigger output to high or 3.3V. If the trigger is not configured as an output, this function has no effect."),Object(a.b)("h3",{id:"example-2"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"setTrigger1High();\nsetTrigger2High();\n")),Object(a.b)("h2",{id:"gettriggerx"},"getTriggerX"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"bool getTriggerX(void);\n")),Object(a.b)("p",null,"The function returns true if the trigger is high and false if it is low. This function works when the trigger is configured as an input or an output."),Object(a.b)("h3",{id:"example-3"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"if (getTrigger1()) {\n    //Trigger1 is high\n    ...\n} else {\n    //Trigger1 is low\n}\nbool result = getTrigger2(); //store Trigger2 level.\n")),Object(a.b)("h2",{id:"enableinterrupttriggerx"},"enableInterruptTriggerX"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void enableInterruptTriggerX(bool rising_edge, void (*cb_function)(void) );\n")),Object(a.b)("p",null,"This function configures the trigger to call a function on the rising (or falling) edge of the trigger line."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},Object(a.b)("inlineCode",{parentName:"strong"},"rising_edge"))," If set to true, function is called on a rising edge of the signal. If false, then function called on falling edge"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},Object(a.b)("inlineCode",{parentName:"strong"},"cb_function"))," Callback function to run on the rising (or falling) edge of the trigger")),Object(a.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(a.b)("div",{parentName:"div",className:"admonition-heading"},Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",{parentName:"h5",className:"admonition-icon"},Object(a.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(a.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Make sure to call clearISRTriggerX!!")),Object(a.b)("div",{parentName:"div",className:"admonition-content"},Object(a.b)("p",{parentName:"div"},"This custom function must call either clearISRTriggerX (and X must match the channel). This clears the interrupt saying that the trigger signal event happened.  If this is not called, the program will run the custom function over and over again and the ",Object(a.b)("em",{parentName:"p"},"Quarto")," will crash. This function should be calling at the first line in the cb_function as otherwise the trigger function can be executed twice. "))),Object(a.b)("h3",{id:"example-4"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void setup() {  \n  enableInterruptTrigger1(true, gotTrigger);\n}\n\nvoid gotTrigger(void) {\n  clearISRTrigger1(); // Call on first line of gotTrigger!\n  ...\n}\n")),Object(a.b)("h2",{id:"clearisrtriggerx"},"clearISRTriggerX"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void clearISRTriggerX(void);\n")),Object(a.b)("p",null,"This function clears the trigger interrupt. It should only be called inside the callback function configured via the ",Object(a.b)("a",{parentName:"p",href:"#enableinterrupttriggerx"},"enableInterruptTriggerX")," function. It should be called on the first line of this function. For an example, please see the ",Object(a.b)("a",{parentName:"p",href:"#example-4"},"example in the previous section")),Object(a.b)("h2",{id:"disableinterrupttriggerx"},"disableInterruptTriggerX"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void disableInterruptTriggerX(void);\n")),Object(a.b)("p",null,"This function disables the trigger's interrupt function. "),Object(a.b)("h3",{id:"example-5"},"Example"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-c"},"void watchTrigger(bool on) {\n    if (on == true) {\n        enableInterruptTrigger1(true, gotTrigger);\n        //call gotTrigger when Trigger 1 goes high\n    } else {\n        disableADC1(); //turn off caalling gotTrigger\n    }\n}\n\nvoid gotTrigger(void) {\n      ...\n}\n")))}b.isMDXComponent=!0}}]);